{% extends "base.html" %}

{% block title %}Practices{% endblock %}

{% block content %}

<div id="practices">
    <h2>Edit Practice</h2>
    <div id="edit-practice-selector"></div>
    <div id="edit-practice"></div>
</div>

<script type="text/template" id="edit-practice-template">
    <form class="pure-form idea-form" id="edit-practice-form">
        <legend>Settings</legend>
        <fieldset>
            <input type="text" class="practice-name" placeholder="Practice name..." value="<%= practice.name() %>" required>
        </fieldset>

        <fieldset>
            <label>Image</label>
            <div id="idea-image-uploads"></div>
        </fieldset>

        <legend>Properties</legend>
        <div id="edit-practice-properties"></div>
        <button class="pure-button button-add" type="button">Add new property</button>

        <fieldset>
            <legend></legend>
            <button class="pure-button pure-button-primary" type="button">Save Practice</button>
            &nbsp;
            <i class="fa fa-refresh fa-spin hidden idea-load-spin"></i>
        </fieldset>
    </form>
</script>

<script type="text/template" id="edit-practice-property-template">
    <fieldset>
        <input type="text" class="property-name" value="<%= name %>" placeholder="Property name..." required>

        <% //var single = size == 1 ? 'selected' : '' %>
        <% //var hidden = checked ? '' : 'hidden' %>

        <select class="property-size-selector">
            <option value="1">Single value</option>
            <option value="">A list with size</option>
            <option value="0">Unlimited list</option>
        </select>
        <input type="text" class="property-size" value="<%= size %>" placeholder="Size">
        
        <select class="property-type">
            <% _.each(types, function(t) { %>
                <option value="<%= t %>" <% if (t == type) print('selected') %>><%= t %></option>
            <% }) %>
        </select>
        <button class="pure-button button-small button-delete" type="button">Delete</button>
    </fieldset>
</script>

{% endblock %}


{% block script %}
    Practices.loadEditPracticesViews()
    idea.renderEditPractices()
{% endblock %}
